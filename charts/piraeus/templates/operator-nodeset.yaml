apiVersion: piraeus.linbit.com/v1alpha1
kind: LinstorNodeSet
metadata:
  name: {{ template "operator.fullname" . }}-ns
spec:
  priorityClassName: {{ template "operator.fullname" . }}-cs-priority-class
  {{- if .Values.operator.nodeSet.sslSecret }}
  ssl:
    secret: {{ .Values.operator.nodeSet.sslSecret }}
    keystorePassword: {{ .Values.operator.nodeSet.sslKeystorePassword }}
    keyPassword: {{ .Values.operator.nodeSet.sslKeyPassword }}
    truststorePassword: {{ .Values.operator.nodeSet.sslTruststorePassword }}
  {{- end }}
  drbdKernelModuleInjectionMode: {{ .Values.operator.nodeSet.drbdKernelModuleInjectionMode }}
  drbdRepoCred: {{ .Values.drbdRepoCred }}
  satelliteImage: {{ .Values.operator.nodeSet.satelliteImage }}
  kernelModImage: {{ .Values.operator.nodeSet.kernelModImage }}
  {{- if .Values.operator.nodeSet.storagePools }}
  storagePools:
{{ toYaml .Values.operator.nodeSet.storagePools | indent 4 }}
  {{- end }}
